<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Search Package from TAONPM</title>
        <link rel="stylesheet" type="text/css" href="css/main.css" />
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
        <script src="js/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/dust-full.min.js"></script>
        <script src="js/dust-helpers.js"></script>
        <script src="js/search.js"></script>
    </head>

    <body>
        <div id="wrap">
            <h1 id="extension-title">Search package from TAONPM</h1>
            <hr />
            <div class="input-group">
                <input type="text" class="form-control" id="keywordsOrName" placeholder="Keywords or Package name..." />
                <div class="input-group-btn">
                    <button type="button" class="btn btn-success" id="doSearch">Search</button>
                </div>
            </div>
            <div id="result"></div>
            <hr />
            <div id="thanks">
                Powered by: <a href="https://jquery.com/" target="_blank">jQuery</a>, <a href="http://getbootstrap.com/" target="_blank">Bootstrap</a>, <a href="https://github.com/linkedin/dustjs" target="_blank">Dustjs</a>, <a href="https://github.com/tobiasahlin/SpinKit" target="_blank">SpinKit</a>
            </div>
            <div id="loading" class="util-hidden">
                <div class="spinner">
                    <div class="cube1"></div>
                    <div class="cube2"></div>
                </div>
            </div>
        </div>
        <textarea class="util-hidden" id="page-tpl">
            {#match}
                <h2 id="match-name"><a href="http://web.npm.alibaba-inc.com/package/{name}" target="_blank">{name}</a></h2>
                <p id="match-description">{description}</p>
            {/match}

            {#hasResult}
            <ul class="nav nav-tabs" role="tablist">
                {#hasKeywords}
                    <li role="presentation"{#keywordsActive} class="active"{/keywordsActive}><a href="#keywords" aria-controls="Keywords" role="tab" data-toggle="tab">Keywords Match <span class="badge">{keywordsCount}</span></a></li>
                {/hasKeywords}
                {#hasPackages}
                    <li role="presentation"{#packagesActive} class="active"{/packagesActive}><a href="#package" aria-controls="package" role="tab" data-toggle="tab">Package Match <span class="badge">{packagesCount}</span></a></li>
                {/hasPackages}
            </ul>

            <div class="tab-content">
                {#hasKeywords}
                <div role="tabpanel" class="tab-pane{#keywordsActive} active{/keywordsActive}" id="keywords">
                    <table class="table table-striped" id="keywords-result">
                        {#keywords}
                        <h2 class="package-name"><a href="http://web.npm.alibaba-inc.com/package/{name}" target="_blank">{name}</a></h2>
                        <p class="package-description">{description}</p>
                        {/keywords}
                    </table>
                </div>
                {/hasKeywords}
                {#hasPackages}
                <div role="tabpanel" class="tab-pane{#packagesActive} active{/packagesActive}" id="package">
                    {#packages}
                    <h2 class="package-name"><a href="http://web.npm.alibaba-inc.com/package/{name}" target="_blank">{name}</a></h2>
                    <p class="package-description">{description}</p>
                    {/packages}
                </div>
                {/hasPackages}
            </div>
            {:else}
            <div class="alert alert-danger" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                No macthed!</div>
            {/hasResult}
        </textarea>
    </body>
</html>
